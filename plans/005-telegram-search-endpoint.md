# План: эндпоинт поиска Telegram аккаунтов

## Цель
Полностью создать эндпоинт для поиска Telegram аккаунтов. Посмотреть API телеграмма и реализовать данную функциональность.

## Шаги
1. Изучить текущий бэкенд: маршруты Express, модуль telegram-client/manager, структура ошибок и переменные окружения.
2. Выбрать и описать способ поиска в Telegram API (MTProto): какой метод используем (пример: contacts.search), входные параметры, лимиты, требуемые поля.
3. Реализовать сервисный метод для поиска аккаунтов (валидация входа, вызов Telegram API, нормализация результатов, лимит 5).
4. Добавить маршрут Express `/api/channels/search` (или аналогичный) с валидацией, обработкой ошибок и ответом в нужном формате.
5. Протестировать вручную (локальный вызов) и обновить документацию, если поведение/контракт новый.

## Риски
- Rate limit Telegram при частых поисковых запросах.
- Требование активной сессии/подписки на каналы: результаты могут быть пустыми.
- Формат сущности в MTProto может отличаться (поля title/username/first_name/last_name).
- Возможные капчи/ограничения со стороны Telegram при агрессивных поисках.

## Стратегия отката
- При ошибке или блокировке откатить маршрут и сервисный вызов (удалить новый эндпоинт) и оставить только существующий функционал парсинга.
- Локально удалить/откатить изменения файла маршрутов и нового сервиса, восстановить из git.

