# Objective
Перевести кастомные стили компонентов на подход CSS Modules и подготовить базу для темизации (светлая/тёмная темы с будущим переключателем).

# Proposed Steps
1. Изучить лучшие практики по темизации в контексте React + CSS Modules: 
   - Использование CSS custom properties для токенов темы (цвета, фон, бордеры, тени).
   - Организация тем через root-классы (`.theme-light`, `.theme-dark`) на html/body/корневом контейнере + каскад токенов.
   - Изоляция компонентных стилей в модулях, чтобы тема подставлялась через переменные, а не через инлайны.
2. Проанализировать компоненты с инлайновыми стилями и строковыми классами (pages, shared/ui) и составить список для миграции.
3. Для каждого компонента вынести кастомные стили в `.module.css` рядом с файлом; заменить инлайны/строки на классы модуля. Сохранить `var(--...)` и перенести хардкод туда, где это нужно.
4. Выделить файл токенов темы (набор CSS custom properties) и определить два набора: light/dark. Добавить корневые классы `.theme-light` / `.theme-dark`, подготовить провайдер/хуку для будущего переключения (можно заглушкой), но без UI переключателя.
5. Проверить пересечения с глобальными утилитами (focus-ring, transition-telegram). Оставить глобальные утилиты только там, где они общие, остальное перенести в модули.
6. Пройтись по страницам (home, history, presets, settings) и обновить использование новых классов; убрать остаточные inline styles.
7. Прогнать линт/быструю сборку, визуально проверить ключевые экраны в обеих темах (подменой root-класса), убедиться в отсутствии регрессий.

# Risks
- Возможна потеря отдельных инлайн-стилей, влияющих на тёмную тему (var(--dark-*)).
- Дублирование классов между компонентами без общей утилиты.
- Случайная поломка анимаций/transition из глобальных классов.
- Неконсистентность токенов при разделении на light/dark, если не все цвета вынесены.

# Rollback Strategy
Оставить коммиты/патчи по компонентам изолированными; при проблемах — вернуть конкретный компонент к предыдущей версии из git; глобальные стили и набор токенов (root-классы) не трогаем, чтобы откат был частичным.

