# Настройка Telegram API для парсинга каналов

## Быстрая настройка

1. Создайте файл `back/.env` со следующим содержимым:

```env
TELEGRAM_API_ID=2283812212
TELEGRAM_API_HASH=sa12jh22121h222
TELEGRAM_PHONE=+1234567890
TELEGRAM_SESSION_PATH=./data/telegram_session.txt
```

2. Замените TELEGRAM_API_ID, TELEGRAM_API_HASH, TELEGRAM_PHONE на ваш реальный номер телефона в международном формате

3. Запустите сервер:
```bash
cd back
npm run dev
```

4. При первом запуске:
   - Вам придет код подтверждения в Telegram
   - Введите код в консоль
   - Если включена 2FA, введите пароль
   - Сессия будет сохранена автоматически

5. При последующих запусках авторизация не потребуется

## Важно

- Серверный аккаунт должен быть подписан на каналы, которые вы хотите парсить
- Подпишите серверный аккаунт на нужные каналы перед использованием
- Файл сессии (`telegram_session.txt`) содержит авторизационные данные - не коммитьте его в git

## Тестирование

После настройки можно протестировать парсинг через API:

```bash
curl -X POST http://localhost:3001/api/parse-channels \
  -H "Content-Type: application/json" \
  -d '{
    "channels": ["@channel_name"],
    "startDate": "2024-01-01T00:00:00Z",
    "endDate": "2024-01-07T23:59:59Z"
  }'
```

Замените `@channel_name` на реальное имя канала, на который подписан серверный аккаунт.

